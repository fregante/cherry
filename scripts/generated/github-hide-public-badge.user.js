// ==UserScript==
// @name         GitHub hide public badge
// @version      5
// @description  Hides "Public" repository badge or removes "Public" prefix
// @author       kidonng
// @namespace    https://github.com/kidonng/cherry
// @match        https://github.com/*
// @grant        GM.addStyle
// ==/UserScript==
(()=>{var de=Object.create;var H=Object.defineProperty;var he=Object.getOwnPropertyDescriptor;var ve=Object.getOwnPropertyNames;var pe=Object.getPrototypeOf,me=Object.prototype.hasOwnProperty;var ge=a=>H(a,"__esModule",{value:!0});var Q=(a,l)=>()=>(l||a((l={exports:{}}).exports,l),l.exports);var ye=(a,l,A)=>{if(l&&typeof l=="object"||typeof l=="function")for(let b of ve(l))!me.call(a,b)&&b!=="default"&&H(a,b,{get:()=>l[b],enumerable:!(A=he(l,b))||A.enumerable});return a},we=a=>ye(ge(H(a!=null?de(pe(a)):{},"default",a&&a.__esModule&&"default"in a?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a);var K=Q((_,J)=>{(function(a,l){typeof define=="function"&&define.amd?define([],l):typeof _=="object"?J.exports=l():a.SelectorSet=l()})(_,function(){"use strict";function a(){if(!(this instanceof a))return new a;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}var l=window.document.documentElement,A=l.matches||l.webkitMatchesSelector||l.mozMatchesSelector||l.oMatchesSelector||l.msMatchesSelector;a.prototype.matchesSelector=function(o,s){return A.call(o,s)},a.prototype.querySelectorAll=function(o,s){return s.querySelectorAll(o)},a.prototype.indexes=[];var b=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;a.prototype.indexes.push({name:"ID",selector:function(s){var u;if(u=s.match(b))return u[0].slice(1)},element:function(s){if(s.id)return[s.id]}});var T=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;a.prototype.indexes.push({name:"CLASS",selector:function(s){var u;if(u=s.match(T))return u[0].slice(1)},element:function(s){var u=s.className;if(u){if(typeof u=="string")return u.split(/\s/);if(typeof u=="object"&&"baseVal"in u)return u.baseVal.split(/\s/)}}});var F=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;a.prototype.indexes.push({name:"TAG",selector:function(s){var u;if(u=s.match(F))return u[0].toUpperCase()},element:function(s){return[s.nodeName.toUpperCase()]}}),a.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}};var C;typeof window.Map=="function"?C=window.Map:C=function(){function o(){this.map={}}return o.prototype.get=function(s){return this.map[s+" "]},o.prototype.set=function(s,u){this.map[s+" "]=u},o}();var j=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function q(o,s){o=o.slice(0).concat(o.default);var u=o.length,h,d,y,v,w=s,m,p,g=[];do if(j.exec(""),(y=j.exec(w))&&(w=y[3],y[2]||!w)){for(h=0;h<u;h++)if(p=o[h],m=p.selector(y[1])){for(d=g.length,v=!1;d--;)if(g[d].index===p&&g[d].key===m){v=!0;break}v||g.push({index:p,key:m});break}}while(y);return g}function E(o,s){var u,h,d;for(u=0,h=o.length;u<h;u++)if(d=o[u],s.isPrototypeOf(d))return d}a.prototype.logDefaultIndexUsed=function(){},a.prototype.add=function(o,s){var u,h,d,y,v,w,m,p,g=this.activeIndexes,S=this.selectors,M=this.selectorObjects;if(typeof o=="string"){for(u={id:this.uid++,selector:o,data:s},M[u.id]=u,m=q(this.indexes,o),h=0;h<m.length;h++)p=m[h],y=p.key,d=p.index,v=E(g,d),v||(v=Object.create(d),v.map=new C,g.push(v)),d===this.indexes.default&&this.logDefaultIndexUsed(u),w=v.map.get(y),w||(w=[],v.map.set(y,w)),w.push(u);this.size++,S.push(o)}},a.prototype.remove=function(o,s){if(typeof o=="string"){var u,h,d,y,v,w,m,p,g=this.activeIndexes,S=this.selectors=[],M=this.selectorObjects,I={},L=arguments.length===1;for(u=q(this.indexes,o),d=0;d<u.length;d++)for(h=u[d],y=g.length;y--;)if(w=g[y],h.index.isPrototypeOf(w)){if(m=w.map.get(h.key),m)for(v=m.length;v--;)p=m[v],p.selector===o&&(L||p.data===s)&&(m.splice(v,1),I[p.id]=!0);break}for(d in I)delete M[d],this.size--;for(d in M)S.push(M[d].selector)}};function D(o,s){return o.id-s.id}return a.prototype.queryAll=function(o){if(!this.selectors.length)return[];var s={},u=[],h=this.querySelectorAll(this.selectors.join(", "),o),d,y,v,w,m,p,g,S;for(d=0,v=h.length;d<v;d++)for(m=h[d],p=this.matches(m),y=0,w=p.length;y<w;y++)S=p[y],s[S.id]?g=s[S.id]:(g={id:S.id,selector:S.selector,data:S.data,elements:[]},s[S.id]=g,u.push(g)),g.elements.push(m);return u.sort(D)},a.prototype.matches=function(o){if(!o)return[];var s,u,h,d,y,v,w,m,p,g,S,M=this.activeIndexes,I={},L=[];for(s=0,d=M.length;s<d;s++)if(w=M[s],m=w.element(o),m){for(u=0,y=m.length;u<y;u++)if(p=w.map.get(m[u]))for(h=0,v=p.length;h<v;h++)g=p[h],S=g.id,!I[S]&&this.matchesSelector(o,g.selector)&&(I[S]=!0,L.push(g))}return L.sort(D)},a})});var Y=Q((B,X)=>{(function(a,l){typeof B=="object"&&typeof X!="undefined"?l(B,K()):typeof define=="function"&&define.amd?define(["exports","selector-set"],l):l(a.SelectorObserver={},a.SelectorSet)})(B,function(a,l){"use strict";l=l&&l.hasOwnProperty("default")?l.default:l;var A=null,b=null,T=[];function F(e,t){var n=[];function i(){var c=n;n=[],t(c)}function r(){for(var c=arguments.length,f=Array(c),x=0;x<c;x++)f[x]=arguments[x];n.push(f),n.length===1&&C(e,i)}return r}function C(e,t){b||(b=new MutationObserver(j)),A||(A=e.createElement("div"),b.observe(A,{attributes:!0})),T.push(t),A.setAttribute("data-twiddle",""+Date.now())}function j(){var e=T;T=[];for(var t=0;t<e.length;t++)try{e[t]()}catch(n){setTimeout(function(){throw n},0)}}var q=new WeakMap,E=new WeakMap,D=new WeakMap,o=new WeakMap;function s(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i[0],c=i[1],f=i[2];r===p?(u(f,c),h(f,c)):r===g?d(f,c):r===S&&y(e.observers,c)}}function u(e,t){if(t instanceof e.elementConstructor){var n=q.get(t);if(n||(n=[],q.set(t,n)),n.indexOf(e.id)===-1){var i=void 0;if(e.initialize&&(i=e.initialize.call(void 0,t)),i){var r=E.get(t);r||(r={},E.set(t,r)),r[""+e.id]=i}n.push(e.id)}}}function h(e,t){if(t instanceof e.elementConstructor){var n=o.get(t);if(n||(n=[],o.set(t,n)),n.indexOf(e.id)===-1){e.elements.push(t);var i=E.get(t),r=i?i[""+e.id]:null;if(r&&r.add&&r.add.call(void 0,t),e.subscribe){var c=e.subscribe.call(void 0,t);if(c){var f=D.get(t);f||(f={},D.set(t,f)),f[""+e.id]=c}}e.add&&e.add.call(void 0,t),n.push(e.id)}}}function d(e,t){if(t instanceof e.elementConstructor){var n=o.get(t);if(!!n){var i=e.elements.indexOf(t);if(i!==-1&&e.elements.splice(i,1),i=n.indexOf(e.id),i!==-1){var r=E.get(t),c=r?r[""+e.id]:null;if(c&&c.remove&&c.remove.call(void 0,t),e.subscribe){var f=D.get(t),x=f?f[""+e.id]:null;x&&x.unsubscribe&&x.unsubscribe()}e.remove&&e.remove.call(void 0,t),n.splice(i,1)}n.length===0&&o.delete(t)}}}function y(e,t){var n=o.get(t);if(!!n){for(var i=n.slice(0),r=0;r<i.length;r++){var c=e[i[r]];if(!!c){var f=c.elements.indexOf(t);f!==-1&&c.elements.splice(f,1);var x=E.get(t),O=x?x[""+c.id]:null;O&&O.remove&&O.remove.call(void 0,t);var k=D.get(t),N=k?k[""+c.id]:null;N&&N.unsubscribe&&N.unsubscribe(),c.remove&&c.remove.call(void 0,t)}}o.delete(t)}}var v=null;function w(e){if(v===null){var t=e.createElement("div"),n=e.createElement("div"),i=e.createElement("div");t.appendChild(n),n.appendChild(i),t.innerHTML="",v=i.parentNode!==n}return v}function m(e){return"matches"in e||"webkitMatchesSelector"in e||"mozMatchesSelector"in e||"oMatchesSelector"in e||"msMatchesSelector"in e}var p=1,g=2,S=3;function M(e,t,n){for(var i=0;i<n.length;i++){var r=n[i];r.type==="childList"?(I(e,t,r.addedNodes),L(e,t,r.removedNodes)):r.type==="attributes"&&P(e,t,r.target)}w(e.ownerDocument)&&ee(e,t)}function I(e,t,n){for(var i=0;i<n.length;i++){var r=n[i];if(m(r))for(var c=e.selectorSet.matches(r),f=0;f<c.length;f++){var x=c[f].data;t.push([p,r,x])}if("querySelectorAll"in r)for(var O=e.selectorSet.queryAll(r),k=0;k<O.length;k++)for(var N=O[k],le=N.data,G=N.elements,W=0;W<G.length;W++)t.push([p,G[W],le])}}function L(e,t,n){for(var i=0;i<n.length;i++){var r=n[i];if("querySelectorAll"in r){t.push([S,r]);for(var c=r.querySelectorAll("*"),f=0;f<c.length;f++)t.push([S,c[f]])}}}function P(e,t,n){if(m(n))for(var i=e.selectorSet.matches(n),r=0;r<i.length;r++){var c=i[r].data;t.push([p,n,c])}if("querySelectorAll"in n){var f=o.get(n);if(f)for(var x=0;x<f.length;x++){var O=e.observers[f[x]];O&&(e.selectorSet.matchesSelector(n,O.selector)||t.push([g,n,O]))}}}function $(e,t,n){if("querySelectorAll"in n){P(e,t,n);for(var i=n.querySelectorAll("*"),r=0;r<i.length;r++)P(e,t,i[r])}}function z(e,t,n){for(var i=0;i<n.length;i++)for(var r=n[i],c=r.form?r.form.elements:e.rootNode.querySelectorAll("input"),f=0;f<c.length;f++)P(e,t,c[f])}function ee(e,t){for(var n=0;n<e.observers.length;n++){var i=e.observers[n];if(i)for(var r=i.elements,c=0;c<r.length;c++){var f=r[c];f.parentNode||t.push([S,f])}}}function te(e,t){var n=e.readyState;n==="interactive"||n==="complete"?C(e,t):e.addEventListener("DOMContentLoaded",C(e,t))}var ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re=0;function R(e){this.rootNode=e.nodeType===9?e.documentElement:e,this.ownerDocument=e.nodeType===9?e:e.ownerDocument,this.observers=[],this.selectorSet=new l,this.mutationObserver=new MutationObserver(oe.bind(this,this)),this._scheduleAddRootNodes=F(this.ownerDocument,ae.bind(this,this)),this._handleThrottledChangedTargets=F(this.ownerDocument,ue.bind(this,this)),this.rootNode.addEventListener("change",se.bind(this,this),!1),te(this.ownerDocument,ie.bind(this,this))}R.prototype.disconnect=function(){this.mutationObserver.disconnect()},R.prototype.observe=function(e,t){var n=void 0;typeof t=="function"?n={selector:e,initialize:t}:(typeof t=="undefined"?"undefined":ne(t))==="object"?(n=t,n.selector=e):n=e;var i=this,r={id:re++,selector:n.selector,initialize:n.initialize,add:n.add,remove:n.remove,subscribe:n.subscribe,elements:[],elementConstructor:n.hasOwnProperty("constructor")?n.constructor:this.ownerDocument.defaultView.Element,abort:function(){i._abortObserving(r)}};return this.selectorSet.add(r.selector,r),this.observers[r.id]=r,this._scheduleAddRootNodes(),r},R.prototype._abortObserving=function(e){for(var t=e.elements,n=0;n<t.length;n++)d(e,t[n]);this.selectorSet.remove(e.selector,e),delete this.observers[e.id]},R.prototype.triggerObservers=function(e){var t=[];$(this,t,e),s(this,t)};function ie(e){e.mutationObserver.observe(e.rootNode,{childList:!0,attributes:!0,subtree:!0}),e._scheduleAddRootNodes()}function ae(e){var t=[];I(e,t,[e.rootNode]),s(e,t)}function oe(e,t){var n=[];M(e,n,t),s(e,n)}function se(e,t){e._handleThrottledChangedTargets(t.target)}function ue(e,t){var n=[];z(e,n,t),s(e,n)}var U=void 0;function V(){return U||(U=new R(window.document)),U}function ce(){var e;return(e=V()).observe.apply(e,arguments)}function fe(){var e;return(e=V()).triggerObservers.apply(e,arguments)}a.getDocumentObserver=V,a.observe=ce,a.triggerObservers=fe,a.default=R,Object.defineProperty(a,"__esModule",{value:!0})})});var Z=we(Y());function Se(a){return a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()}GM.addStyle(`
.rgh-ci-link .Label[hidden] + .commit-build-statuses {
    margin-left: 0;
}
`);(0,Z.observe)(".Label.Label--secondary",{add(a){let l=a.textContent.trim().replace(/^Public ?/,"");l===""?a.hidden=!0:a.textContent=Se(l)}});})();
