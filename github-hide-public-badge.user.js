// ==UserScript==
// @name         GitHub hide public badge
// @version      4
// @description  Hides "Public" repository badge or removes "Public" prefix
// @author       kidonng
// @namespace    https://github.com/kidonng/cherry
// @match        https://github.com/*
// ==/UserScript==
(()=>{function d(){if(!(this instanceof d))return new d;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}var m=window.document.documentElement,W=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector;d.prototype.matchesSelector=function(e,t){return W.call(e,t)};d.prototype.querySelectorAll=function(e,t){return t.querySelectorAll(e)};d.prototype.indexes=[];var Q=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;d.prototype.indexes.push({name:"ID",selector:function(t){var n;if(n=t.match(Q))return n[0].slice(1)},element:function(t){if(t.id)return[t.id]}});var G=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;d.prototype.indexes.push({name:"CLASS",selector:function(t){var n;if(n=t.match(G))return n[0].slice(1)},element:function(t){var n=t.className;if(n){if(typeof n=="string")return n.split(/\s/);if(typeof n=="object"&&"baseVal"in n)return n.baseVal.split(/\s/)}}});var _=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;d.prototype.indexes.push({name:"TAG",selector:function(t){var n;if(n=t.match(_))return n[0].toUpperCase()},element:function(t){return[t.nodeName.toUpperCase()]}});d.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}};var C;typeof window.Map=="function"?C=window.Map:C=function(){function e(){this.map={}}return e.prototype.get=function(t){return this.map[t+" "]},e.prototype.set=function(t,n){this.map[t+" "]=n},e}();var N=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function k(e,t){e=e.slice(0).concat(e.default);var n=e.length,i,r,o,a,s=t,l,u,c=[];do if(N.exec(""),(o=N.exec(s))&&(s=o[3],o[2]||!s)){for(i=0;i<n;i++)if(u=e[i],l=u.selector(o[1])){for(r=c.length,a=!1;r--;)if(c[r].index===u&&c[r].key===l){a=!0;break}a||c.push({index:u,key:l});break}}while(o);return c}function J(e,t){var n,i,r;for(n=0,i=e.length;n<i;n++)if(r=e[n],t.isPrototypeOf(r))return r}d.prototype.logDefaultIndexUsed=function(){};d.prototype.add=function(e,t){var n,i,r,o,a,s,l,u,c=this.activeIndexes,f=this.selectors,h=this.selectorObjects;if(typeof e=="string"){for(n={id:this.uid++,selector:e,data:t},h[n.id]=n,l=k(this.indexes,e),i=0;i<l.length;i++)u=l[i],o=u.key,r=u.index,a=J(c,r),a||(a=Object.create(r),a.map=new C,c.push(a)),r===this.indexes.default&&this.logDefaultIndexUsed(n),s=a.map.get(o),s||(s=[],a.map.set(o,s)),s.push(n);this.size++,f.push(e)}};d.prototype.remove=function(e,t){if(typeof e=="string"){var n,i,r,o,a,s,l,u,c=this.activeIndexes,f=this.selectors=[],h=this.selectorObjects,v={},S=arguments.length===1;for(n=k(this.indexes,e),r=0;r<n.length;r++)for(i=n[r],o=c.length;o--;)if(s=c[o],i.index.isPrototypeOf(s)){if(l=s.map.get(i.key),l)for(a=l.length;a--;)u=l[a],u.selector===e&&(S||u.data===t)&&(l.splice(a,1),v[u.id]=!0);break}for(r in v)delete h[r],this.size--;for(r in h)f.push(h[r].selector)}};function q(e,t){return e.id-t.id}d.prototype.queryAll=function(e){if(!this.selectors.length)return[];var t={},n=[],i=this.querySelectorAll(this.selectors.join(", "),e),r,o,a,s,l,u,c,f;for(r=0,a=i.length;r<a;r++)for(l=i[r],u=this.matches(l),o=0,s=u.length;o<s;o++)f=u[o],t[f.id]?c=t[f.id]:(c={id:f.id,selector:f.selector,data:f.data,elements:[]},t[f.id]=c,n.push(c)),c.elements.push(l);return n.sort(q)};d.prototype.matches=function(e){if(!e)return[];var t,n,i,r,o,a,s,l,u,c,f,h=this.activeIndexes,v={},S=[];for(t=0,r=h.length;t<r;t++)if(s=h[t],l=s.element(e),l){for(n=0,o=l.length;n<o;n++)if(u=s.map.get(l[n]))for(i=0,a=u.length;i<a;i++)c=u[i],f=c.id,!v[f]&&this.matchesSelector(e,c.selector)&&(v[f]=!0,S.push(c))}return S.sort(q)};var F=d;var x=null,O=null,L=[];function j(e,t){var n=[];function i(){var o=n;n=[],t(o)}function r(){for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];n.push(a),n.length===1&&R(e,i)}return r}function R(e,t){O||(O=new MutationObserver(K)),x||(x=e.createElement("div"),O.observe(x,{attributes:!0})),L.push(t),x.setAttribute("data-twiddle",""+Date.now())}function K(){var e=L;L=[];for(var t=0;t<e.length;t++)try{e[t]()}catch(n){setTimeout(function(){throw n},0)}}var B=new WeakMap,g=new WeakMap,w=new WeakMap,p=new WeakMap;function I(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i[0],o=i[1],a=i[2];r===M?(X(a,o),Y(a,o)):r===V?P(a,o):r===b&&Z(e.observers,o)}}function X(e,t){if(t instanceof e.elementConstructor){var n=B.get(t);if(n||(n=[],B.set(t,n)),n.indexOf(e.id)===-1){var i=void 0;if(e.initialize&&(i=e.initialize.call(void 0,t)),i){var r=g.get(t);r||(r={},g.set(t,r)),r[""+e.id]=i}n.push(e.id)}}}function Y(e,t){if(t instanceof e.elementConstructor){var n=p.get(t);if(n||(n=[],p.set(t,n)),n.indexOf(e.id)===-1){e.elements.push(t);var i=g.get(t),r=i?i[""+e.id]:null;if(r&&r.add&&r.add.call(void 0,t),e.subscribe){var o=e.subscribe.call(void 0,t);if(o){var a=w.get(t);a||(a={},w.set(t,a)),a[""+e.id]=o}}e.add&&e.add.call(void 0,t),n.push(e.id)}}}function P(e,t){if(t instanceof e.elementConstructor){var n=p.get(t);if(!!n){var i=e.elements.indexOf(t);if(i!==-1&&e.elements.splice(i,1),i=n.indexOf(e.id),i!==-1){var r=g.get(t),o=r?r[""+e.id]:null;if(o&&o.remove&&o.remove.call(void 0,t),e.subscribe){var a=w.get(t),s=a?a[""+e.id]:null;s&&s.unsubscribe&&s.unsubscribe()}e.remove&&e.remove.call(void 0,t),n.splice(i,1)}n.length===0&&p.delete(t)}}}function Z(e,t){var n=p.get(t);if(!!n){for(var i=n.slice(0),r=0;r<i.length;r++){var o=e[i[r]];if(!!o){var a=o.elements.indexOf(t);a!==-1&&o.elements.splice(a,1);var s=g.get(t),l=s?s[""+o.id]:null;l&&l.remove&&l.remove.call(void 0,t);var u=w.get(t),c=u?u[""+o.id]:null;c&&c.unsubscribe&&c.unsubscribe(),o.remove&&o.remove.call(void 0,t)}}p.delete(t)}}var E=null;function $(e){if(E===null){var t=e.createElement("div"),n=e.createElement("div"),i=e.createElement("div");t.appendChild(n),n.appendChild(i),t.innerHTML="",E=i.parentNode!==n}return E}function U(e){return"matches"in e||"webkitMatchesSelector"in e||"mozMatchesSelector"in e||"oMatchesSelector"in e||"msMatchesSelector"in e}var M=1,V=2,b=3;function z(e,t,n){for(var i=0;i<n.length;i++){var r=n[i];r.type==="childList"?(H(e,t,r.addedNodes),ee(e,t,r.removedNodes)):r.type==="attributes"&&A(e,t,r.target)}$(e.ownerDocument)&&re(e,t)}function H(e,t,n){for(var i=0;i<n.length;i++){var r=n[i];if(U(r))for(var o=e.selectorSet.matches(r),a=0;a<o.length;a++){var s=o[a].data;t.push([M,r,s])}if("querySelectorAll"in r)for(var l=e.selectorSet.queryAll(r),u=0;u<l.length;u++)for(var c=l[u],f=c.data,h=c.elements,v=0;v<h.length;v++)t.push([M,h[v],f])}}function ee(e,t,n){for(var i=0;i<n.length;i++){var r=n[i];if("querySelectorAll"in r){t.push([b,r]);for(var o=r.querySelectorAll("*"),a=0;a<o.length;a++)t.push([b,o[a]])}}}function A(e,t,n){if(U(n))for(var i=e.selectorSet.matches(n),r=0;r<i.length;r++){var o=i[r].data;t.push([M,n,o])}if("querySelectorAll"in n){var a=p.get(n);if(a)for(var s=0;s<a.length;s++){var l=e.observers[a[s]];l&&(e.selectorSet.matchesSelector(n,l.selector)||t.push([V,n,l]))}}}function te(e,t,n){if("querySelectorAll"in n){A(e,t,n);for(var i=n.querySelectorAll("*"),r=0;r<i.length;r++)A(e,t,i[r])}}function ne(e,t,n){for(var i=0;i<n.length;i++)for(var r=n[i],o=r.form?r.form.elements:e.rootNode.querySelectorAll("input"),a=0;a<o.length;a++)A(e,t,o[a])}function re(e,t){for(var n=0;n<e.observers.length;n++){var i=e.observers[n];if(i)for(var r=i.elements,o=0;o<r.length;o++){var a=r[o];a.parentNode||t.push([b,a])}}}function ie(e,t){var n=e.readyState;n==="interactive"||n==="complete"?R(e,t):e.addEventListener("DOMContentLoaded",R(e,t))}var oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae=0;function y(e){this.rootNode=e.nodeType===9?e.documentElement:e,this.ownerDocument=e.nodeType===9?e:e.ownerDocument,this.observers=[],this.selectorSet=new F,this.mutationObserver=new MutationObserver(ce.bind(this,this)),this._scheduleAddRootNodes=j(this.ownerDocument,le.bind(this,this)),this._handleThrottledChangedTargets=j(this.ownerDocument,fe.bind(this,this)),this.rootNode.addEventListener("change",ue.bind(this,this),!1),ie(this.ownerDocument,se.bind(this,this))}y.prototype.disconnect=function(){this.mutationObserver.disconnect()};y.prototype.observe=function(e,t){var n=void 0;typeof t=="function"?n={selector:e,initialize:t}:(typeof t>"u"?"undefined":oe(t))==="object"?(n=t,n.selector=e):n=e;var i=this,r={id:ae++,selector:n.selector,initialize:n.initialize,add:n.add,remove:n.remove,subscribe:n.subscribe,elements:[],elementConstructor:n.hasOwnProperty("constructor")?n.constructor:this.ownerDocument.defaultView.Element,abort:function(){i._abortObserving(r)}};return this.selectorSet.add(r.selector,r),this.observers[r.id]=r,this._scheduleAddRootNodes(),r};y.prototype._abortObserving=function(e){for(var t=e.elements,n=0;n<t.length;n++)P(e,t[n]);this.selectorSet.remove(e.selector,e),delete this.observers[e.id]};y.prototype.triggerObservers=function(e){var t=[];te(this,t,e),I(this,t)};function se(e){e.mutationObserver.observe(e.rootNode,{childList:!0,attributes:!0,subtree:!0}),e._scheduleAddRootNodes()}function le(e){var t=[];H(e,t,[e.rootNode]),I(e,t)}function ce(e,t){var n=[];z(e,n,t),I(e,n)}function ue(e,t){e._handleThrottledChangedTargets(t.target)}function fe(e,t){var n=[];ne(e,n,t),I(e,n)}var D=void 0;function de(){return D||(D=new y(window.document)),D}function T(){var e;return(e=de()).observe.apply(e,arguments)}function he(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}document.head.insertAdjacentHTML("beforeend",`<style>
    .rgh-ci-link .Label[hidden] + .commit-build-statuses {
      margin-left: 0;
    }
  </style>`);T(".Label.Label--secondary",{add(e){let t=e.textContent.trim().replace(/^Public ?/,"");t===""?e.hidden=!0:e.textContent=he(t)}});})();
